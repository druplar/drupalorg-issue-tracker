"use strict";var DrupalIssuesApp=angular.module("DrupalIssuesApp",[]).constant("chromeStorage",chrome.storage.local);DrupalIssuesApp.controller("DrupalIssuesController",["$scope","$http","chromeStorage",function(a,b,c){a.issues={},a.issueOrderBy="nid",c.get("issueNodes",function(b){a.$apply(function(){a.loadIssues(b)})}),a.loadIssues=function(b){b&&b.issueNodes&&(a.issues=b.issueNodes)},a.saveIssues=function(){c.set({issueNodes:a.issues})},a.addIssue=function(b){a.refreshIssue(b.nid),b.nid=null},a.removeIssue=function(b){delete a.issues[b],a.saveIssues()},a.refreshIssue=function(c){var d=b({method:"get",url:"https://www.drupal.org/api-d7/node/"+c});d.then(function(b){var c=b.data;console.log(c),a.issues[c.nid]={nid:c.nid,summary:c.title,status:c.field_issue_status,project:c.field_project.id},a.saveIssues()})}}]),DrupalIssuesApp.filter("statusLabelFilter",function(){var a={1:"Active",2:"Fixed",3:"Closed (Duplicate)",4:"Postponed",5:"Closed (Won't Fix)",6:"Closed (Works as designed)",7:"Closed (Fixed)",8:"Needs Review",13:"Needs Work",14:"RTBC",15:"Patch (to be ported)",16:"Postponed (Needs more info)",18:"Closed (Cannot Reproduce)"};return function(b){return b?a[b]:""}}),DrupalIssuesApp.filter("statusColorFilter",function(){var a={1:"#f9f9f9",2:"#d7ffd8",3:"#fddddd",4:"#eff1f3",5:"#fddddd",6:"#fddddd",7:"#fddddd",8:"#ffffdd",13:"#ffece8",14:"#d7ffd8",15:"#d7ffd8",16:"#eff1f3",18:"#fddddd"};return function(b){return b?a[b]:""}}),DrupalIssuesApp.filter("orderObjectBy",function(){return function(a,b,c){var d=[];return angular.forEach(a,function(a){d.push(a)}),d.sort(function(a,c){return a[b]>c[b]?1:-1}),c&&d.reverse(),d}});